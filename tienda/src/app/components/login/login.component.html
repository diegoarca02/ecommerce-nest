<app-navbar></app-navbar>
<app-bar></app-bar>

<section class="py-12">
    <div class="container">
        <div class="row">
            <div class="col-lg-5 col-sm-12 mx-auto">
                <!-- Card -->
            <div class="card card-lg">
                <div class="card-body">
  
                  <!-- Heading -->
                  <h6 class="mb-7 text-center fw-800">
                    LOGIN
                  </h6>
  
                  <!-- Form -->
                  <div class="row">

                    <div id="btnGoogle" class="col-12" style="margin-bottom: 1.8rem!important;">

                    </div>
                    
                    <ng-container *ngIf="googleToken == undefined">
                      <div class="col-12">

                        <!-- Email -->
                        <div class="form-group" [ngClass]="{'mb-3': msm_error_email}">
                          <label class="visually-hidden" for="registerEmail">
                            Email *
                          </label>
                          <input class="form-control form-control-sm" type="email" placeholder="Email *" name="email" [(ngModel)]="email" [ngClass]="{'is-invalid mb-4': msm_error_email}">
  
                          <span class="text-danger">{{msm_error_email}}</span>
                        </div>
  
                      </div>
                      <div class="col-12">
  
                        <!-- Password -->
                        <div class="form-group" [ngClass]="{'mb-3': msm_error_password}">
                          <label class="visually-hidden" for="registerPassword">
                            Contraseña *
                          </label>
                          <input class="form-control form-control-sm"  type="password" placeholder="Contraseña *" name="password" [(ngModel)]="password"  [ngClass]="{'is-invalid mb-4': msm_error_password}">
  
                          <span class="text-danger">{{msm_error_password}}</span>
                        </div>
  
                      </div>
                    </ng-container>
                    <ng-container *ngIf="googleToken != undefined">
                      <div class="col-12 text-center mb-5">
                        <img [src]="googleToken.picture" style="width: 80px;border-radius: 50%;">
                        <br>
                        <div class="mt-3 d-flex flex-column">
                          <span class="heading-xxs letter-spacing-xl">
                              {{googleToken.given_name}} {{googleToken.family_name}}
                          </span>
                          <small class="text-muted">
                            {{googleToken.email}}
                          </small>
                        </div>
                      </div>
                    </ng-container>
                  
                    <div class="col-12 mb-5 text-center">
                      <a class="fs-sm text-dark" *ngIf="googleToken == undefined">
                        Olvide mi contraseña
                      </a>
                      <a (click)="removeGoogleToken()" style="cursor: pointer;" class="fs-sm text-dark" *ngIf="googleToken != undefined">
                       Iniciar sesión con correo.
                      </a>
                    </div>
                    
                    <div class="col-12 text-center" *ngIf="googleToken == undefined">
                      <!-- Button -->
                      <button *ngIf="!btn_load" class="btn btn-sm btn-dark w-100" type="button" (click)="validate()">
                        Iniciar sesión
                      </button>
                      <button *ngIf="btn_load" class="btn btn-sm btn-dark w-100" type="button" disabled>
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Procesando...
                      </button>
                    </div>
                  </div>
  
                </div>
              </div>
            </div>
        </div>
    </div>
</section>

<app-footer></app-footer>